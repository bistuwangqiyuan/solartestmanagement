# 光伏关断器数据管理系统 - 部署说明

## 系统概述

本系统是一个专业的光伏关断器测试数据管理平台，具有以下特点：

- 🎨 **工业风格设计** - 深色主题，霓虹效果，专业大气
- 📊 **数据可视化** - 实时监控大屏，数据分析图表
- 📁 **Excel数据导入** - 支持批量导入测试数据
- 🗄️ **Supabase后端** - 使用PostgreSQL数据库，实时数据同步
- 🚀 **Netlify部署** - 快速部署，自动CI/CD

## 项目信息

- **项目路径**: `/workspace/photovoltaic-data-management`
- **技术栈**: Next.js 14 + TypeScript + Tailwind CSS + Supabase
- **数据库信息**: 已在代码中配置（见.env.local文件）

## 部署步骤

### 1. 本地测试

```bash
cd /workspace/photovoltaic-data-management
npm run dev
```

访问 http://localhost:3000 查看系统

### 2. 构建项目

```bash
npm run build
```

### 3. 部署到Netlify

#### 方法一：通过Git部署（推荐）

1. 将项目推送到GitHub/GitLab
2. 登录Netlify账号
3. 点击"New site from Git"
4. 选择仓库并配置：
   - Build command: `npm run build`
   - Publish directory: `.next`
5. 添加环境变量（从.env.local复制）
6. 点击Deploy

#### 方法二：手动部署

1. 安装Netlify CLI
```bash
npm install -g netlify-cli
```

2. 登录Netlify
```bash
netlify login
```

3. 部署
```bash
netlify deploy --prod
```

### 4. 环境变量配置

在Netlify控制台中添加以下环境变量：

```
NEXT_PUBLIC_SUPABASE_URL=https://zzyueuweeoakopuuwfau.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp6eXVldXdlZW9ha29wdXV3ZmF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzODEzMDEsImV4cCI6MjA1OTk1NzMwMX0.y8V3EXK9QVd3txSWdE3gZrSs96Ao0nvpnd0ntZw_dQ4
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp6eXVldXdlZW9ha29wdXV3ZmF1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NDM4MTMwMSwiZXhwIjoyMDU5OTU3MzAxfQ.CTLF9Ahmxt7alyiv-sf_Gl3U6SNIWZ01PapTI92Hg0g
```

## 数据库初始化

1. 登录Supabase控制台
2. 进入SQL编辑器
3. 执行 `/workspace/photovoltaic-data-management/supabase/schema.sql` 中的SQL语句
4. 确认所有表和视图创建成功

## 功能模块

### 已完成功能

1. ✅ **系统首页** - 数据概览，快速操作入口
2. ✅ **数据管理** - 查看、搜索、导出、删除测试数据
3. ✅ **数据导入** - Excel文件上传和批量导入
4. ✅ **数据大屏** - 关键指标展示，实时数据更新
5. ✅ **实时监控** - 设备状态监控，在线/离线状态
6. ✅ **工业UI组件** - Button、Card、Table、Loading等组件

### 待开发功能

1. ⏳ **用户认证** - 登录注册，权限管理
2. ⏳ **数据图表** - ECharts集成，多维度数据分析
3. ⏳ **报表生成** - PDF/Excel报表导出
4. ⏳ **告警系统** - 异常数据自动告警
5. ⏳ **移动端适配** - 响应式设计优化

## 示例数据

系统包含3个Excel示例文件，位于 `/public/data/` 目录：
- 19.99V 6.00A data_detail_1_2025-05-09T12-15-19.xlsx
- 20.2V 19.8Ω 1.3Adata_detail_1_2025-05-02T06-23-00.xlsx
- 39.9V 9.02A data_detail_1_2025-05-09T13-02-36.xlsx

可通过数据导入功能上传这些文件进行测试。

## 访问地址

部署成功后，系统将通过以下地址访问：
- Netlify默认域名：`https://[your-site-name].netlify.app`
- 可配置自定义域名

## 注意事项

1. 确保Supabase数据库已正确初始化
2. 环境变量必须正确配置
3. 首次访问可能需要等待冷启动
4. 建议使用Chrome/Edge浏览器访问以获得最佳体验

## 技术支持

如有问题，请检查：
1. 浏览器控制台错误信息
2. Netlify部署日志
3. Supabase数据库连接状态

## 系统截图预览

系统采用深色工业风格设计，主要界面包括：
- 仪表盘概览
- 数据管理表格
- Excel导入界面
- 实时监控大屏
- 数据可视化图表

所有界面均采用统一的设计语言，确保专业性和一致性。